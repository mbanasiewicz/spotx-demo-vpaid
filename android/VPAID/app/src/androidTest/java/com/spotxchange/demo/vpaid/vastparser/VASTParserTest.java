package com.spotxchange.demo.vpaid.vastparser;

import android.app.Application;
import android.test.AndroidTestCase;
import android.test.ApplicationTestCase;

import android.app.Application;
import android.test.ApplicationTestCase;

import org.json.JSONException;
import org.json.JSONObject;
import org.xml.sax.InputSource;

import java.io.ByteArrayInputStream;
import java.io.IOException;

import javax.xml.xpath.XPathExpressionException;


/**
 * <a href="http://d.android.com/tools/testing/testing_android.html">Testing Fundamentals</a>
 */
public class VASTParserTest extends AndroidTestCase {
    public VASTParserTest() {
        super();
    }

    public void testEmptyVpaidResponse() throws XPathExpressionException {
        String xml = "<?xml version=\"1.0\"?><Hi></Hi>";
        ByteArrayInputStream stream = new ByteArrayInputStream(xml.getBytes());
        InputSource source = new InputSource(stream);

        VPAIDResponse vpaid = VASTParser.read(source);
        assertNull(vpaid);
    }

    public void testBasicValidVpaidResponse() throws XPathExpressionException {
        String xml = "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>" +
                "<VAST version=\"2.0\">" +
                    "<Ad id=\"10cc0.a5fa1.e06a\">" +
                        "<InLine>" +
                            "<Creatives>" +
                                "<Creative sequence=\"1\">" +
                                    "<Linear>" +
                                        "<MediaFiles>" +
                                            "<MediaFile delivery=\"progressive\" apiFramework=\"VPAID\"  bitrate=\"256\" height=\"480\" width=\"640\" type=\"application/javascript\">" +
                                                "<![CDATA[url]]>" +
                                            "</MediaFile>" +
                                        "</MediaFiles>" +
                                        "<AdParameters>" +
                                            "ad_parameters" +
                                        "</AdParameters>" +
                                    "</Linear>" +
                                "</Creative>" +
                            "</Creatives>" +
                        "</InLine>" +
                    "</Ad>" +
                "</VAST>";

        ByteArrayInputStream stream = new ByteArrayInputStream(xml.getBytes());
        InputSource source = new InputSource(stream);

        VPAIDResponse vpaid = VASTParser.read(source);
        assertNotNull(vpaid);
        assertEquals("url", vpaid.mediaUrl);
        assertEquals("ad_parameters", vpaid.adParameters);
    }

    public void testFullVpaidResponse() throws XPathExpressionException {
        String xml = "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n" +
                "<VAST version=\"2.0\"><Ad id=\"10cc0.a5fa1.e06a\"><InLine><AdSystem version=\"1.0\">SpotXchange</AdSystem><AdTitle><![CDATA[KaiserMP4]]></AdTitle><Description><![CDATA[Leslie.php]]></Description><Creatives><Creative sequence=\"1\"><Linear><Duration>00:00:30</Duration><MediaFiles><MediaFile delivery=\"progressive\" apiFramework=\"VPAID\"  bitrate=\"256\" height=\"480\" width=\"640\" type=\"application/javascript\"><![CDATA[http://aka.spotxcdn.com/media/lod/videos/js/ad/InstreamAdBroker_2015-08-07_17-16.js]]></MediaFile><MediaFile delivery=\"progressive\" apiFramework=\"VPAID\"  bitrate=\"256\" height=\"480\" width=\"640\" type=\"application/javascript\"><![CDATA[http://aka.spotxcdn.com/media/lod/videos/js/ad/InstreamAdBroker_2015-08-07_17-16.js]]></MediaFile><MediaFile delivery=\"progressive\" apiFramework=\"VPAID\"  bitrate=\"256\" height=\"480\" width=\"640\" type=\"application/javascript\"><![CDATA[http://aka.spotxcdn.com/media/lod/videos/js/ad/InstreamAdBroker_2015-08-07_17-16.js]]></MediaFile><MediaFile delivery=\"progressive\" apiFramework=\"VPAID\"  bitrate=\"256\" height=\"480\" width=\"640\" type=\"application/javascript\"><![CDATA[http://aka.spotxcdn.com/media/lod/videos/js/ad/InstreamAdBroker_2015-08-07_17-16.js]]></MediaFile></MediaFiles><AdParameters><![CDATA[{\"ad_id\":\"10cc0.a5fa1.e06a\",\"title\":\"KaiserMP4\",\"page_url\":\"\",\"media\":{\"video\":[{\"transcoding\":\"high\",\"playtime\":30,\"vpi\":\"MP4\",\"source_uri\":\"http:\\/\\/cdn.spotxchange.com\\/website\\/kaiser.mp4\",\"mime_type\":\"video\\/mp4\",\"width\":\"640\",\"height\":\"480\",\"bitrate\":32768,\"source_uri_external\":true,\"page_url\":null,\"media_url\":\"http:\\/\\/cdn.spotxchange.com\\/website\\/kaiser.mp4\"},{\"transcoding\":\"high\",\"playtime\":30,\"vpi\":\"MP4\",\"source_uri\":\"http:\\/\\/cdn.spotxchange.com\\/website\\/kaiser.mp4\",\"mime_type\":\"video\\/mp4\",\"width\":\"640\",\"height\":\"480\",\"bitrate\":32768,\"source_uri_external\":true,\"media_url\":\"http:\\/\\/cdn.spotxchange.com\\/website\\/kaiser.mp4\"},{\"transcoding\":\"high\",\"playtime\":30,\"vpi\":\"MP4\",\"source_uri\":\"http:\\/\\/cdn.spotxchange.com\\/website\\/kaiser.mp4\",\"mime_type\":\"video\\/mp4\",\"width\":\"640\",\"height\":\"480\",\"bitrate\":32768,\"source_uri_external\":true,\"media_url\":\"http:\\/\\/cdn.spotxchange.com\\/website\\/kaiser.mp4\"},{\"transcoding\":\"high\",\"playtime\":30,\"vpi\":\"MP4\",\"source_uri\":\"http:\\/\\/cdn.spotxchange.com\\/website\\/kaiser.mp4\",\"mime_type\":\"video\\/mp4\",\"width\":\"640\",\"height\":\"480\",\"bitrate\":32768,\"source_uri_external\":true,\"media_url\":\"http:\\/\\/cdn.spotxchange.com\\/website\\/kaiser.mp4\"}],\"ad_parameters\":\"\",\"banners\":{\"medium_rectangle\":{\"width\":\"300\",\"height\":\"250\",\"mime_type\":\"image\\/jpeg\",\"source_uri\":\"http:\\/\\/cdn.liverail.com\\/adasset4\\/1869\\/5032\\/10670\\/05dbe007e713fb5abc7dd1d02b15da30.jpg\",\"page_url\":\"http:\\/\\/deals.lod.search.spotxchange.com\\/click?_a=68801&_p=10cc0.a5fa1.e06a&_z=1&_x=eNqtVVlv20YQ1m8hYL0koHf24pKCUDRwEqBIHBRpmtYIQCy5S2ljXuDhA65-eztLUomTyOhLKImaHc7xzUkeErJarfLS5dcrGRleANGcagNghTJUAuQ55YYTvFb5Xrt61XQ7Xbt8lem6tl0665IVcBaLiCvK0BCLaJbZJw0BfsR0X0mliCc-vF-BFCFlMgTFQljth6FNzs9b3enKDrbrw7ypVkDynIRaFBpCS6T-kfHsGYIxVpdoVCeQPLiEbXQikoc-YUmQORNsTEJCAuS7ixIFUiqIACIKUglgNOaMxCyKZEQoIlUCD2LTJzIJWn3fjMPPMIawCmsXS4SA_NYUMKIUV0pSSbkgJBY0YiyK0QpQIBAzyThhjBIG1NsTSdC3tv4pgUKMkY4ZFjm1d9gA9c6mE9gpB2idUxJsDgef98sPb95gzrlPNaqNPbbHbvQJxxhpEvi-4EDUqb6APJJeDmBRdH1a29uJlQQw_WOe8qa5djY1TYWteLTrq92HZWPC3uou34d92wwLWN81R7t6NM7WuU1nSCQJEDkCjjxgjGZXNpkug41LyFwVV2l_YjyKCEdW5AGM9dDdB7MApWyhjBftMfYAsBZLejq7c0195LM5QiRzN9wvJGVcLNJt0w_e_VRALI2MZ3jKw1NJUFnj9GPsk1bRdJUeHvEw85WrbDrct1OZgEyB7Oz559buFvO3zgz7BTojZLG1t263H46xiYkNKL0fqjLFRLalrWz92BlmxOksddU4ycoZ5Vilnc0HzH9pj8mfS5NiY-bBZhrMGdrXAf_Clr6kNy63nsOWwbV3wxcB6u35GqezXKrbdonXJbA5TCFWjbFfiold0vTz4YDXcbsMPCzdje20K32jnP-CSDqXb_Npqw37blxjVbZknTfObHH2xLpFQgoh1hMH54fHMVs35fScUVARSuMBCI7S-gapta78Pc-3xhZ6LId1227XY1ciL9tKHIf13XZ9v13f4a_D9PncbT3CM_brGX2FX21C0-AU2glXWNsBmXl5fcZeUKYU-pQcaQlKRLFiSO7O2KtvTNze3oY76_LGB4rnUtfG1bsWGwNPuwZiEWKdUa1v9Bm7EHFE5TzSK_CvCXw9CJJp_tT0zrJ-ub_H0vw1j9-84Mn87N_pQoHp9N0NpsczPes84NgnD0E-9kNTpUYPOkiCh0_YmJ-CpB7L8jnSHGlxCJ4fxfa636MYrjdeUKYLqxAkxCAzkeN6M5pYpUmECkWDKijqgdbYKYfnAT3tD_7fnyiowlUspSwKGhlmFIdCahFLaUmRkUf-_LbyzthpZ3Jx9qOPyIqowGbD7UwtsEIojgsVMMoM6YI-ERM56QeedKMxP6RQoIHyTEaZAiNjW1iRmTiKWXzaDT-dOxBP-jFQgNKQWVFAHBuBnWQyqzIo8I8LccrP4VHDHHcILlH_rmhqXAb99dC0wSbzS-Cr6D9Xr3-_f3fx8vbtxYvy8vUHuHz9klxdXLPLj1fl2z_-rK4-_ra_-vyiurr4e_sf4CaY-g%7E%7E\",\"static_events\":[{\"type\":\"creativeView\",\"url\":\"http:\\/\\/t4.liverail.com\\/?metric=companion&pos=0&coid=5005&pid=6555&oid=57214993&olid=50321870&cid=10670&vid=&amid=&cc=default&pp=&url=&cb=6842&x=&y=&xy=\"}],\"iab_imu\":\"medium_rectangle\",\"html_source\":null,\"iframe_source\":null,\"banner_url\":\"http:\\/\\/deals.lod.search.spotxchange.com\\/banner?_a=68801&_p=10cc0.a5fa1.e06a&_z=1&_x=eNqtVNtu20YQ5bfwNQa1s3dSKPrSPhSIHTSJ2zoIQCy5S2ll3iBS8a369naWpBw3kdGXrABxOJydOXPmwhNCoigqTNu6fSSV5RUQw6mxAE5oSyVAWVJuOcETlVvj26jbb0zry9MtEgFnqVBcU4YumKJF4V51AfgT038ktSZBuP4QgRQJZTIBzRKItuPYZ6tVb_amcaPbD0nZNRGQsiSJEZWBxBFpvle8eYNgrDM1OjUZZE8-Y2uTiexpyFgWF97Ga5uRhAD55lCiQUoNCkBRkFoAoylnJGVKSUUoItUCX8R6yGQW9-ahO4w_whnCqpxbPBEC8r-ugBGtudaSSsoFIamgijGVohegQCBlknHCGCUMaPAnsnjoXftDEoUUMz0UtS9zd4-lbzcun8BOHKB3Tkm8Ph4D71fXb98i5zxQjdcOg9vnm0MgHHOkWRz6ggPR5_oCSiWDHcBy0Q956-4mVRbD9ESeyq679S63XYNNePIbqj0kdWeTwZl9uU2GvhsXsKFrTn7NwXrXli6fIZEsRuQIWAXAmM2m7gpTx2ufkbkqvjHhjXGlCEeVCgAO7bh_iGcDStki2WA6YO4xYC0WevZu47v2pGdzhiiWfnxYRMq4WKz7bhhD-KmAWBqZzvB0gKezuHHWm5fYp1tVt2_M-EKHzDe-cfn40E9lAjIlsnGrXe82i_s7b8ftAp0RsvjaOr_ZjqfcxKQGtN6OTZ0jkX3tGte-DIaMeFPkvjlMtnJGeWjyvStH5L92J_Ln0uTYmGW8ngZzhvZ1wJ_VMpT0iy9d0LBlcN39-GxAg79Q43y2y03fL_n6DNbHKcWms-65mNgl3TC_HPGctktp26T2X9ze-Dp0yspYMwxu5CvQMl0JwugKCM7EighbOEKUU8CqQpiiVNaCJbQAYQ0jya7f_DxPQATTQp3ksOs-INK_5m6c9x2Zv_0zHTSY3r75g-nzLM93nnAKsqe4PAxj1-TWjCbO4qfPWKfPcdYe6voCZY6yOMYXJ7OtGbZohtPOK8pM5TROHKQgC1HitFtDnDZE4YWqwytoGoC2SNzxIqbn48H_xxMV1biZpJRVRZVlVnOopBGplI5UBXkRLwxvCMbOB5NLsO9jKCdUlaYMlxV1WBShOe4XwCwLlCv6Sk7kbBx4NYxBfkilwQDlhVSFBitTVzlR2FSlLD0fhp_nDsSrcSxUoA0UTlSQplbgWsSO0wVU-OBCnItzfNEwp5HCnRJWZ9fibAy3Y9fH6yLMxFfTvy8frx8vH__YXe1u6adfPu3efbxhN7vf7q92v9_dfHx_e0nf1zePm4d3f_7607_LoU8P\",\"html_banner_url\":\"http:\\/\\/deals.lod.search.spotxchange.com\\/banner?_a=68801&_p=10cc0.a5fa1.e06a&_z=1&_x=eNqtVNtu20YQ5bfwNQa1s3eu0LcYBYJYfogNN0UAYsldSqzFC0Sqsa3q29NZknLUREZfsgLE4XB25syZC08IiaIot03jd5FUjpdALKfWAXihHZUARUG54wRPVGxs1UTtbm2bqjjdIhFwlgrFNWXogima5_5NF4A_Mf5HUmsShPtPEUiRUCYT0CyBaDMMnVksOruztR_8rk-Kto6AFAVJrCgtJJ5I-7Pi3TsE47zdolNrwBwqw5bWCHPoDTNxXrl46QxJCJAfDiUapNSgABQFqQUwmnJGUqaUVIQiUi3wRSx7I03c2ed2P_wKZwir9H72RAjI_7oCRrTmWksqKReEpIIqxlSKXoACgZRJxgljlDCgwZ8wcd_55pckCilmus-3VZH5Jyx9s_bZCHbkAL1zSuLl8Rh4X91__Iic80A1Xtv3fpet94FwzJGaOPQFB6Iv9QUUSgY7gPli1WeN_zqqTAzjE3kq2vax8plra2zCk99Q7T7Zti7pvd0Vm6Tv2mEGG7rm5NfuXeWbwmcTJGJiRI6AVQCM2ay3bW638bIyZKpKVdvwxrhShKNKBQD7Ztg9x5MBpWyWXDDtMfcYsBYzPTu_rtrmpGdThigW1fA8i5RxMVt3bT-E8GMBsTQyneDpAE-buPausufYx1tlu6vtcKZD5uuq9tnw3I1lAjImsvaLvzq_nt1_rdywmaEzQmZfG1-tN8MpNzGqAa03Q73NkMhu62vfnAdDRiqbZ1W9H23lhHJfZztfDMj_1p_In0qTYWMW8XIczAna9wF_VctQ0r-rwgcNmwfXPw2vBjT4CzXOJrvMdt2cb2VgeRxTrFvnX4uJXdL208sRz2m72Ec7N4trQqcsRo4X2EqLabEtsCRDVSwWiySQMLV4BOPGHOWwzD6hhz-mdpsWGpm-fRsPGoxvP_zB-HmSpzsHbHNziIt9P7R15uxgYxMfvmAhvsSm2W-3VyhzlMUxvjqZbWy_QTMcZ15SZkuvcaQgBZmLAsfZWeK1JQovlC1eQdMAtEFmjlcxvRwP_j-eKKnG1SOlLEuqHHOaQymtSKX0pMzJWbwwnSEYuxxMzsF-jqG8UGWaMtxG1AMrhea4QACzzFEu6Rs5kYtx4M0wFvkhpQYLlOdS5RqcTH3pRe5SlbL0chh-mTsQb8ZxUIK2kHtRQpo6gXvP5V7nUOKDC3EpzvGsYU4zg0sj7Ma2webvH4e2i5d5aPrvpv_c3hVPf76_FzcP12T1sKpvXu5fbt_fwOru-uX29w-b1d2Hx88P1y-rh8-__QuVQUfw\",\"html_tag\":\"&lt;a href=&quot;http:\\/\\/deals.lod.search.spotxchange.com\\/click?_a=68801&amp;_p=10cc0.a5fa1.e06a&amp;_z=1&amp;_x=eNqtVVlv20YQ1m8hYL0koHf24pKCUDRwEqBIHBRpmtYIQCy5S2ljXuDhA65-eztLUomTyOhLKImaHc7xzUkeErJarfLS5dcrGRleANGcagNghTJUAuQ55YYTvFb5Xrt61XQ7Xbt8lem6tl0665IVcBaLiCvK0BCLaJbZJw0BfsR0X0mliCc-vF-BFCFlMgTFQljth6FNzs9b3enKDrbrw7ypVkDynIRaFBpCS6T-kfHsGYIxVpdoVCeQPLiEbXQikoc-YUmQORNsTEJCAuS7ixIFUiqIACIKUglgNOaMxCyKZEQoIlUCD2LTJzIJWn3fjMPPMIawCmsXS4SA_NYUMKIUV0pSSbkgJBY0YiyK0QpQIBAzyThhjBIG1NsTSdC3tv4pgUKMkY4ZFjm1d9gA9c6mE9gpB2idUxJsDgef98sPb95gzrlPNaqNPbbHbvQJxxhpEvi-4EDUqb6APJJeDmBRdH1a29uJlQQw_WOe8qa5djY1TYWteLTrq92HZWPC3uou34d92wwLWN81R7t6NM7WuU1nSCQJEDkCjjxgjGZXNpkug41LyFwVV2l_YjyKCEdW5AGM9dDdB7MApWyhjBftMfYAsBZLejq7c0195LM5QiRzN9wvJGVcLNJt0w_e_VRALI2MZ3jKw1NJUFnj9GPsk1bRdJUeHvEw85WrbDrct1OZgEyB7Oz559buFvO3zgz7BTojZLG1t263H46xiYkNKL0fqjLFRLalrWz92BlmxOksddU4ycoZ5Vilnc0HzH9pj8mfS5NiY-bBZhrMGdrXAf_Clr6kNy63nsOWwbV3wxcB6u35GqezXKrbdonXJbA5TCFWjbFfiold0vTz4YDXcbsMPCzdje20K32jnP-CSDqXb_Npqw37blxjVbZknTfObHH2xLpFQgoh1hMH54fHMVs35fScUVARSuMBCI7S-gapta78Pc-3xhZ6LId1227XY1ciL9tKHIf13XZ9v13f4a_D9PncbT3CM_brGX2FX21C0-AU2glXWNsBmXl5fcZeUKYU-pQcaQlKRLFiSO7O2KtvTNze3oY76_LGB4rnUtfG1bsWGwNPuwZiEWKdUa1v9Bm7EHFE5TzSK_CvCXw9CJJp_tT0zrJ-ub_H0vw1j9-84Mn87N_pQoHp9N0NpsczPes84NgnD0E-9kNTpUYPOkiCh0_YmJ-CpB7L8jnSHGlxCJ4fxfa636MYrjdeUKYLqxAkxCAzkeN6M5pYpUmECkWDKijqgdbYKYfnAT3tD_7fnyiowlUspSwKGhlmFIdCahFLaUmRkUf-_LbyzthpZ3Jx9qOPyIqowGbD7UwtsEIojgsVMMoM6YI-ERM56QeedKMxP6RQoIHyTEaZAiNjW1iRmTiKWXzaDT-dOxBP-jFQgNKQWVFAHBuBnWQyqzIo8I8LccrP4VHDHHcILlH_rmhqXAb99dC0wSbzS-Cr6D9Xr3-_f3fx8vbtxYvy8vUHuHz9klxdXLPLj1fl2z_-rK4-_ra_-vyiurr4e_sf4CaY-g%7E%7E&quot; border=&quot;0&quot; target=&quot;_blank&quot; title=&quot;KaiserMP4&quot;&gt;&lt;img style=&quot;border:0; width:300px; height:250px;&quot; src=&quot;http:\\/\\/deals.lod.search.spotxchange.com\\/banner?_a=68801&amp;_p=10cc0.a5fa1.e06a&amp;_z=1&amp;_x=eNqtVNtu20YQ5bfwNQa1s3dSKPrSPhSIHTSJ2zoIQCy5S2ll3iBS8a369naWpBw3kdGXrABxOJydOXPmwhNCoigqTNu6fSSV5RUQw6mxAE5oSyVAWVJuOcETlVvj26jbb0zry9MtEgFnqVBcU4YumKJF4V51AfgT038ktSZBuP4QgRQJZTIBzRKItuPYZ6tVb_amcaPbD0nZNRGQsiSJEZWBxBFpvle8eYNgrDM1OjUZZE8-Y2uTiexpyFgWF97Ga5uRhAD55lCiQUoNCkBRkFoAoylnJGVKSUUoItUCX8R6yGQW9-ahO4w_whnCqpxbPBEC8r-ugBGtudaSSsoFIamgijGVohegQCBlknHCGCUMaPAnsnjoXftDEoUUMz0UtS9zd4-lbzcun8BOHKB3Tkm8Ph4D71fXb98i5zxQjdcOg9vnm0MgHHOkWRz6ggPR5_oCSiWDHcBy0Q956-4mVRbD9ESeyq679S63XYNNePIbqj0kdWeTwZl9uU2GvhsXsKFrTn7NwXrXli6fIZEsRuQIWAXAmM2m7gpTx2ufkbkqvjHhjXGlCEeVCgAO7bh_iGcDStki2WA6YO4xYC0WevZu47v2pGdzhiiWfnxYRMq4WKz7bhhD-KmAWBqZzvB0gKezuHHWm5fYp1tVt2_M-EKHzDe-cfn40E9lAjIlsnGrXe82i_s7b8ftAp0RsvjaOr_ZjqfcxKQGtN6OTZ0jkX3tGte-DIaMeFPkvjlMtnJGeWjyvStH5L92J_Ln0uTYmGW8ngZzhvZ1wJ_VMpT0iy9d0LBlcN39-GxAg79Q43y2y03fL_n6DNbHKcWms-65mNgl3TC_HPGctktp26T2X9ze-Dp0yspYMwxu5CvQMl0JwugKCM7EighbOEKUU8CqQpiiVNaCJbQAYQ0jya7f_DxPQATTQp3ksOs-INK_5m6c9x2Zv_0zHTSY3r75g-nzLM93nnAKsqe4PAxj1-TWjCbO4qfPWKfPcdYe6voCZY6yOMYXJ7OtGbZohtPOK8pM5TROHKQgC1HitFtDnDZE4YWqwytoGoC2SNzxIqbn48H_xxMV1biZpJRVRZVlVnOopBGplI5UBXkRLwxvCMbOB5NLsO9jKCdUlaYMlxV1WBShOe4XwCwLlCv6Sk7kbBx4NYxBfkilwQDlhVSFBitTVzlR2FSlLD0fhp_nDsSrcSxUoA0UTlSQplbgWsSO0wVU-OBCnItzfNEwp5HCnRJWZ9fibAy3Y9fH6yLMxFfTvy8frx8vH__YXe1u6adfPu3efbxhN7vf7q92v9_dfHx_e0nf1zePm4d3f_7607_LoU8P&quot; alt=&quot;KaiserMP4&quot; \\/&gt;&lt;\\/a&gt;\",\"html_tag_internal\":true}},\"tracking\":{\"beacon\":[{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/i.w55c.net\\/ping_match.gif?ei=SPOTX&rurl=http%3A%2F%2Fsync.search.spotxchange.com%2Fpartner%3Fadv_id%3D6465%26uid%3D_wfivefivec_%26img%3D1\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/pixel.tapad.com\\/idsync\\/ex\\/receive?partner_id=SPOTX&partner_url=http%3A%2F%2Fsync.search.spotxchange.com%2Fpartner%3Fadv_id%3D6992%26uid%3D%24%7BTA_DEVICE_ID%7D&partner_device_id=6737410842ad11e58d2611cc24d41c76\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/track.eyeviewads.com\\/sync\\/spotx\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/match.rundsp.com\\/redirect?ex=spotx\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/log.adap.tv\\/spotx_sync\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/sync.mathtag.com\\/sync\\/img?mt_exid=30&redir=http%3A%2F%2Fsync.search.spotxchange.com%2Fpartner%3Fadv_id%3D6653%26uid%3D%5BMM_UUID%5D\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/ad.turn.com\\/r\\/cs?pid=16\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/cm.g.doubleclick.net\\/pixel?google_nid=spotxchange_dbm&google_cm&google_sc\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/rtd.tubemogul.com\\/upi\\/pid\\/h0r58thg?redir=http%3A%2F%2Fsync.search.spotxchange.com%2Fpartner%3Fadv_id%3D6409%26uid%3D%24%7BUSER_ID%7D%26img%3D1\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/pix04.revsci.net\\/J13421\\/a3\\/0\\/3\\/0.302?matchId=spotx\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/match.adsrvr.org\\/track\\/cmf\\/generic?ttd_pid=spotx&ttd_puid=${user_id}\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/ckm-m.xp1.ru4.com\\/activity?_o=62795&_t=cm_spx\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/x.bidswitch.net\\/sync?ssp=spotx\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/pm.w55c.net\\/ping_match.gif?ei=SPOTX&rurl=http%3A%2F%2Fsync.search.spotxchange.com%2Fpartner%3Fadv_id%3D6465%26uid%3D_wfivefivec_%26img%3D1\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/sync.tidaltv.com\\/Spotx.ashx\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/p.rfihub.com\\/cm?in=1&pub=935\"},{\"type\":\"click\",\"beacon_url\":\"http:\\/\\/deals.lod.search.spotxchange.com\\/click?_a=68801&_p=10cc0.a5fa1.e06a&_z=1&_x=eNqtVNtu20YQ5bfwNQa9s3dS6EuRNi-RiyIx0BgBiCV3Ka0tXkBSSWRF397OkpTrOjL6EgoQZ4ezc85ceUJIFEXlzpcPkVSWV0AMp8YCOKEtlQBlSbnlBJ-o3BrfRG2_MY0voy_eujafr5IIOEuF4poy9MMULQr3qh_An5j-I6k1CcLthwikSCiTCWiWQLQdxy67vu5Mb2o3un5IyraOgJQlSYyoDCSOSPOj4s0bJGOd2aFTk0F29BlbmUxkxyFjWVx4G69sRhIC5MVDiQYpNSgARUFqAYymnJGUKSUVochUCzyI1ZDJLO7Mod2PP8MZ0qqcWzwRAvK_roARrbnWkkrKBSGpoIoxlaIXoEAgZZJxwhglDGjwJ7J46FzzUwKFFCPdF1jk3H3D-jcbl09kpxygd05JvDqdQt5vbt-_x5zzkGq8th9cn2_2IeEYI83i0BcciL7UF1AqGewAlot-yBv3dVJlMUxvzFPZtg_e5batsRPPfkO1h2TX2mRwpi-3ydC140I2dM3Zr9lb75rS5TMlksXIHAmrQBij2ezawuzilc_IXBVfm3BiXCnCUaUCgX0z9od4NqCULZINpgPGHgPWYklP7za-bc56NkeIYunHwyJSxsVi3bXDGOCnAmJpZDrTQ-rIT2dx7aw3z8lP16q2r834TBdCHXvTDGVrfbNZgLZ-sw0iFqb2tcvHQ-eW8zTI13XHwxlxup05jGgTjpheRhZ95Xdu8I_uGZYKE4Vgo1t4M6qkXuSv3o7bJT-Sk4Xv1iGTcVFzTc6lxYIPY-9Mne_73Ytw5rrm2NVlvJqmGvUkzOB5OzypZeiHL750QcOWqXffxicDGvyFBslnu9x03ZINn8HqNFGvW-ueOgFz0A7z4YRPNDd6BGF34s4U3JHytZ6ebcPK-4CYf81NOa89Mn_7e3rQYDq9-IPp8yzPd444DNkxLvfD2Na5NaOJs_j4Oabic5w1-93uCmWOsjjFV2ezrRm2aIZDzyvKTOU0koQUZCFKHHpriNOGKLxQtXgFTQPRBlNwuorpZTz4fzxRUY0LSkpZVVRZZjWHShqRSulIVZBneGGGAxi7DCYXsB8xlBOqSlOGO4s6YJXQHNcMYJQFyhV9JSZyEQdehTGYH1JpMEB5IVWhwcrUVU4UNlUpSy_D8Mu5A_EqjoUKtIHCiQrS1ArsJFs4XUCFLy7EJZzTs4Y5DwefBqppG-zy4WFsu3hVhO7-1_T7H-_Wj-uPv9Z39d39zeNv_O7jJ75---fj3bubh_X9Lf9U39yv73_367frX_4BQXZOhg%7E%7E\"},{\"type\":\"start\",\"beacon_url\":\"http:\\/\\/deals.lod.search.spotxchange.com\\/beacon?_a=68801&_p=10cc0.a5fa1.e06a&_z=1&_x=eNqtVFtvnEYU5rfwGgvPmRsDqz6kSiNF8lppbSdNFAkNzLBLDAwF1s7G3d_engHWTpO1-hJWYs8M5_Kd71x4REgQBLnVhWsDGRteAtGcagNghTJUAhQF5YYTfIJiq6s2cP1Gt1VxtCIBcJaImCvK0AWLaZ7bZ10A_sT0DqRSxAs3VwFIEVEmI1AsgmA7jl16ft7pXjd2tP0QFa4JgBQFibQoNUSWSP3jxYsXCMZYXaNTnUL6UKVspVORPgwpS8O8MuHKpCQiQL57KFEgpYIYIKYglQBGE85IwuJYxoQiUiXwIFZDKtOw03u3G3-GM4RVWrt4IgTkf10BI0pxpSSVlAtCEkFjxuIEvQAFAgmTjBPGKGFAvT-RhkNn25-SKCSY6S6vqyKzX7D07cZmE9iJA_TOKQlXh4Pn_fLm4gI5555qNNsNts82O0845kjT0PcFB6JO9QUUsfR6AIthNWStvZ-u0hCmf-SpcO62splxDTbh0a-v9hDVzkSD1X2xjYbOjQtY3zVHv3pnKtsWNpshkTRE5Ag49oAxm03tcl2Hqyolc1WqRvsT43FMOF7FHsCuHft9OCtQyhbJeNUBcw8Ba7HQ09tN5drjPZszRLGoxv0iUsbFot25YfThpwJiaWQyw5ta1-OfZy0b951dtNCgH72s0LzW-7Fqpk9ICiOTgNDuKmNddqfrymRl1Q9jVvqZeqRgKpY22bAfRotkTVMzJdWPebj6BkBRI39jNqDDI0uIeyi2tjkievfy6pounNx1lTfnfgbJ8vntyzevvC3MKuu33J_ofHp98W7ie6bm_W-_rpGB75JDUzInjG1osl0_MSbRetkYhW73ro22f0W5c3u9be147_rbaX-cY0bnresbXU_WTccbayodddvOd_Gc5txFGc5Q8cgGED_xx130eC19991VhfU3bKHNfhkfFaj359sxm_Uy3XVLBT0Jh4mVxhn72HdYOzfMhwM-81RNrwCmTT3Jfoleod8_5zafFymZv_0zPajwZPr0gunzLM82Dzhe6UNY7IbRNZnRow7T8OFTSMWnMG13dX2GMkdZHMKzo9pWD1tUwzXCS8p0aRWOMiQgc1HgGjGaWKVJjAalQxNU9UBbTPNwFtLT8eD_44mSKlx5UsqypLFhRnEopRaJlJaUOfkmnt8KPhg7HUwuwX6MEVsRl0nCcAtSC6wUiuPiAswyR7mkz-RETsaBZ8No5IeUCjRQnss4V2BkYksrcpPECUtOh-GnuQPxbBwDJSgNuRUlJIkRuG9NblUOJf5xIU7F-bbrjgOAE-l3Mi4gY4fb0eHA5L6Dn1T__vD1dbNu_qjXzQ35eH17v361gfX17_vLz2--fvh8Wa_ff6zW15v7S7r-5V8s323P&beacon_type=start&syn%5Btiming%5D=%24TIMING_DATA\"},{\"type\":\"complete\",\"beacon_url\":\"http:\\/\\/deals.lod.search.spotxchange.com\\/beacon?_a=68801&_p=10cc0.a5fa1.e06a&_z=1&_x=eNqtVd9v2zgM9t-i1xWpqF-WFexhh_WGAk1uwLoOKwYYsiXVbh3bF7tds1z-9buj7aTrdinuZXqwSZnkJ34kZTGjNIqizNu8qSMVOxGAWsGsA_BSO6YA8pwJJyiuKC9sWUfN-sbWZX7wgggET2QsNOMYgscsy_yLIdA6kuMzUlrTQfj4AY-AX2ie05mVwcLMU2WjV69w13lboY01YLal4XNrpNl2hhuSlY7MnaEzCvSnxagGpTTEADEDpSVwlghOEx7HKqYMgbVERc47owxp7aa5739FMDxW8H4fiVJQP4YCTrUWWiummJCUJpLFnMcJRgEGFBKuuKCcM8qBDfGkIV3r61-SKCSY6X1WlXnqH7GS9Y1Px8OOHGB0wSiZ73YD78uPFxfIOTXb3UEeaQdA3seyp_2mHX21IXmzaivfH9S2spu-XI0qM4TTUUBqHkrnm_TBVqVLQ7nu-jSs7WRHDRleeETr0m7T9X5F5mPRR1LXfUbmz86QV6Wv-7TDgGReGjrl0OWFn8Ihb1dvPlwyMtXkoS0HdzG0EN1_fv_m_O3gC5PJ4r0YNDZpv19cDRpHTRjy6ey3BTLzU3LoSqeEkUWX3q-rkUr0Lvq-Naenua03TT0r_pxlTbOxRe37r836rpshX6eY0WndrFe2Gr1XrVh5V9pZW7RDEaY0O2_XeZFiC-RPbAAdGnbgrffr7mkb03f-ocz9sMP3tPnH_smADfHapn9MJ7vUtu2-iMshN-Rk1ThfDepYt6Ybv-CaWmB8RDDeGKM8DPM0xbjz97hw77vt9wdE_-Ca5Ml-S4CYLcnvu75Zpc72lhiy_UKY_EJMfV9VJygLlOWOnBzMCtsVaIYNLwLjNniNdwskoDKZY8M7S722NEaH0KALmg5tXmNOuxPCjuPB_-PJwDQOp1IqBBY77rSAoKxMlPI0ZPQZ3nBbDWD8OJjag_0XI_YyDknCcV6ZBx6kFniTAmaZoRzYCznRozjwIoxFfmjQYIGJTMWZBqcSH7zMXBInPDkOI45zB_JFHAcBtIXMywBJ4iT-AFzmdQYBX0LKYzjP2-zQ6zh8ZZfWeN043931Dc5GhhP7zPSvxe2ZWN7efF1eFneLy3NxvbpaXb_7_Li8zTfXb8--_fHunC1vP7PFp7PX_wJCdfoW&beacon_type=complete\"},{\"type\":\"firstQuartile\",\"beacon_url\":\"http:\\/\\/deals.lod.search.spotxchange.com\\/beacon?_a=68801&_p=10cc0.a5fa1.e06a&_z=1&_x=eNqtVNtu2zAM9bf4tYBDXXyJgj106AUBmqxD0xbriyHLSqzVsT3bSZN1_fVtlJxeVmBvpQGBpMhj8pA2DwA8z8u0VHXlRXHOlwQkpzInRIdJTiNClKI854DiqUKayqvblayMes6iHuFsHMY8oQwhWEyzTP8XguATutOLkgSscn2FJeANKAWBDJeSBBoi6R0doTfXssQYKYh4NIJNpAjFYyeY8DOT-5NcQAAE3gmFhERRQmJCYkqiJCSMjjmDMYvjKAaKL05CNMJJJyLhN3Jfb_qPAMOyllofkABI9C8UYZAkPEkiGlEeAoxDGjMWjxGFUAJkzCLGgTEKjFCLFwq_a3T1IY2SMXa6yUqjUr3DSVYrnbpiHQeIzin4k6cny_v8-uICOQfx-PSsO9oJQd7d2NN-37hcRG212rStqVbWTvAtpdz3Zu2uqfAZOAW52Zpc1-lWliZPl6bt-nTZyiEOhH9Ak3na7bter_2Jm7pjte0zf_KmCFUaXfVph4D-xAgYmuhUoQc4JO7m-GpB_WEo28bYdG53CA7Xl8fTE5tLhpDZJbcWHayzixtrMbS48G9PP8-QmnfNYSoMDSONebppS8clZhd934jRSMlqX1dB8SPI6novi0r3D3V73wWqXo-wo1FVt2tZuux1w9c6NzJoisZOYWiz07JVRYo7oF7YIGA31vLW67Z7cWP7ud4apa2HHWjTu_4lgFq8pu536RCXyqY5THFue0NO1nWuS2u6udWdu0EZdsAdHnG_DKfbr3n4jNHz2wn6XmNfD-L9QRn0If5dwHNvSLbp0gr3K9fdfV8jFxlO6E0Fv-4Wit0tSjP_-ZXPzs_M_HYKs0X5fXYyffi2WO3uTqYwX5zSL-fTT38BiTxZag%7E%7E&beacon_type=recurring&view_percent=25\"},{\"type\":\"midpoint\",\"beacon_url\":\"http:\\/\\/deals.lod.search.spotxchange.com\\/beacon?_a=68801&_p=10cc0.a5fa1.e06a&_z=1&_x=eNqtVFlv2zAM9m_xawGHOnxEwR46dAU61FmHpi26F0OWlUaLr9lO2vT469soOT1WYG-lAYGkyM_kR9o8APA8L9dSNbUXxQVfEpCcyoIQHSYFjQhRivKCA4qnVtLUXtPdyNqo5yzmEc6mYcwTyhCCxTTP9X8hCD6hO70oScAqF-dYAt6AUhDIcClJoCGS3sEBegstS4yRgogHI9hMilA89IIJPzeFPysEBEDgnVBISBQlJCYkpiRKQsLolDOYsjiOYqD44iREI5z1IhJ-K3fNZvgIMCxrqfUeCYBE_0IRBknCkySiEeUhwDSkMWPxFFEIJUCmLGIcGKPACLV4ofD7Vtcf0iiZYqebvDQq03c4yfpGZ65YxwGicwr-7OnJ8j6_OD1FzkE8PD3rjnZCkHc39mzYtS4XUTutNl1n6htrJ_iWUu4GU7lrKnwGTkFutqbQTbaVpSmypen6IVt2cowD4e_RZJH1u37QlT9zU3esdkPuz94UoUqj6yHrEdCfGQFjE71a6REOibs8PF9QfxzKtjU2ndsdgv312eHJkc0lY0h6xq1FR-v49NJaDC0u_Ksvn1Ok5l1zmApjw0hjkW260nGJ2athaMVkomS9a-pg9SvIm2YnV7Uebptu3QeqqSbY0aRuukqWLrtqeaULI4N21dopjG32WnZqleEOqBc2CNiNtbwNuutf3Nh-obdGaethe9r03fASQC1e2wx32RiXybbdT3Fue0NOqqbQpTXd3Jre3aCMO-AOj7hfhtPt1zx-xuj57QR9r7GvB_H-oIz6GP8u4Lk3JNv0WY37Veh-PTTIRY4TelPBY0qvw_ki5T9-qtv0_iL8dnVymy7KdUq_VunR8Tq9X4fzo2t6vfj-6S-HrFmK&beacon_type=recurring&view_percent=50\"},{\"type\":\"thirdQuartile\",\"beacon_url\":\"http:\\/\\/deals.lod.search.spotxchange.com\\/beacon?_a=68801&_p=10cc0.a5fa1.e06a&_z=1&_x=eNqtVNtu2zAM9bf4tYCjmy9RsIcW7YABTVagS4PkxZAlpVHi22wni5f117dRcnpZgb2VBgSSIo_JQ9osQMjzvEwLWZVeFCu2xkgwIhTGOkwUiTCWkjDFEIgnN8KUXtU8itLI5yzmYUbHYcwSQgGCxiTL9H8hMDyhO70oSZBV5vdQAtwgKVEgwrXAgUaR8C4uwKu0yCFGcMxPhtOJ4CE_tZxyPzPKnyiOAoTROyEowVGU4BjjmOAoCTElY0bRmMZxFCMCL05CMMJJyyPu16Kv9t1HgEFZa63PSAjh6F8oTFGSsCSJSERYiNA4JDGl8RhQMMEIj2lEGaKUIIqJxQu539a6_JBG8Rg63We5kak-wiTLR526Yh0HgM4I8idPT5b32fz2FjhH_PT0rDvaMQbe3djTrq9dLqA2Wu6bxpSP1k7gLbnoO1O4a8J9ipwC3ByM0lV6ELlR6do0bZeuGzHEIe6f0YRK277tdOFP3NQdq02X-ZM3Rcjc6LJLWwD0J4ajoYlWbvQAB8Q9XN5_I_4wlENtbDqzO4TO13eXX65tLh5CpnfMWmSwPt8-WIuCxbi_uLmaAjXvmoNUNDQMNKp03-SOS8jedF3NRyMpyr4qg833IKuqXmxK3f2oml0byKoYQUejsmoKkbvsomaFVkYE9aa2UxjabLVo5CaFHZAvbGBkN9by1ummfXFD-0ofjNTWQ8-06WP3EkAsXl11x3SIS0Vdn6c4s70BJ0WldG5NN7eqdTcgww64w8Pul-F0-zUPnzF4fjsB32vs64G9PyCDPsS_C3juDcg2bVrCfind7roKuMhgQm8q-DUr5v10MT-utlfb1XYeTsmSzbZq9_V6tVv-VPlycdOvrm_odLH89Belx1pb&beacon_type=recurring&view_percent=75\"},{\"type\":\"exception\",\"beacon_url\":\"http:\\/\\/deals.lod.search.spotxchange.com\\/exception?_a=68801&_p=10cc0.a5fa1.e06a&_z=1&_x=eNqtVE1z2zYQ5W_hNTM0FgBBCpoe0nHayYzpJHXitrlwIAAyUZEES1KOlTS_vV2Akuzm4xZoBsICu4-7bx_AM0KSJLEP2g6z830iCsO3QBSnygDYvDRUAGhNueEER6Ib5frEj3eqd_pJYJ4AZ6u84CVliMIKutnY76IA_vI4J6IsSVi8u0lA5BllIoOSZZA08zzIi4tBjaqzsx2nTPsuAaI1yVS-VZBZItTXG8-eJSQxVrUIqiTIT06ytZK5_DRJJtONM-naSJIRIF8MSkoQooQCoKAgyhwYXXFGVqwoREEoZlrmaOTrSQqZDurg9_OPAMO0ttYekQgB8X8oYKQseVkKKijPCVnltGCsWCEKUCCwYoJxwhglDGjAy2U6Dbb_IYXCCivdb1qna-x2o_o7W8dkIweIzilJ158_B96v311dIec8UI1h-8mO9d0-EI41UpkGXXAg5bd0AboQwQ_gGOimurcf4pZMIf4jT9r7nbO18R3q8IQbuj1lrTfZZNWom2wa_HxMNqjmhKv2xtle23pJicgUMz9lHQUSvDZWad_X82GIVWIhZ5kHu0Q-WnWYXReP8fOMxAVmd--M9fW9ap2pt26c5nob1Hv-WERTpp4O02wxrajP2P9x3qTrJ0noFjOd6wkB07WTZKF70o1d4LDFt89v3tJ0kc_94EI4D2onx-PXz19ehlhYXKrXPFh0sX65ug0WQ4vL9PcXP1dIxRfFYShZCsaGm3o_trHrGH28m1r1B99nzd_ZxvuDano7f_DjLt7UC6zoovdjp9oY3Q28s8apbGiGoJelzKVfNapVn9kAEu7W6daft0Xo873TNuywI232YT470IAXGl8vfrUahmMXr0NtyEnnjW2DGfvmp3iCY9FAnBKIb2Jch4fqBhH_WKS0PFZkOfs3DnR4DH2cIB4v6ycxj9OpVOQ-6BzlZuy0mz1Ss8GGPUnon1eXLx-qX2_b6q92V31831T0Dfuze5NX3W-7qqvyV5f68P5tRa4_6p_-A1Ljpbg%7E&beacon_type=exception&exception%5Bid%5D=%24EXCEPTION_ID&exception%5Bdata%5D=%24EXCEPTION_DATA&exception%5Btrace%5D=%24EXCEPTION_TRACE&syn%5Btiming%5D=%24TIMING_DATA\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/flash.quantserve.com\\/pixel.swf?media=ad&event=played&title=spotxchange&videoId=spotxchange&pageURL=&url=&publisherId=p%2D04HdaWoZepDyg&labels=68801\",\"unique\":\"No\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/pixel.quantserve.com\\/seg\\/r;a=p-04HdaWoZepDyg;redirect=http:\\/\\/deals.lod.search.spotxchange.com\\/track\\/bt\\/1\\/img?segs=!qcsegs\",\"unique\":\"Yes\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/tags.bluekai.com\\/site\\/363\",\"unique\":\"Yes\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/loadr.exelator.com\\/load\\/?p=104&g=420&j=0\",\"unique\":\"Yes\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/ad.crwdcntrl.net\\/5\\/pe=y\\/c=4914?http:\\/\\/search.spotxchange.com\\/track\\/bt\\/7\\/img?segs=${aud_ids}\",\"unique\":\"No\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/adadvisor.net\\/adscores\\/g.pixel?sid=9201737408\",\"unique\":\"Yes\"},{\"type\":\"initialization\",\"beacon_url\":\"http:\\/\\/b.scorecardresearch.com\\/b?c1=1&c2=6272977&c3=68801&cv=1.3&cj=1\",\"unique\":\"Yes\"}]}},\"ad_system\":[],\"referrer\":\"http:\\/\\/parameters.com\",\"inventory_class\":null,\"safety\":null,\"client_playback\":{\"ados\":{\"client_side\":{\"feed_timeout\":2000,\"load_timeout\":120000,\"total_timeout\":15000}},\"ad_broker\":{\"idod_always_monetize\":false,\"idod_disable_max\":false,\"idod_max_count\":5,\"idod_detect\":true,\"idod_kill\":false},\"channel_name\":\"Booyah.tv\",\"playback_conf\":{\"third_party_tracking\":{\"double_verify\":\"1\",\"double_verify_noscript\":true,\"integral\":\"0\",\"moat\":true,\"whiteops\":\"1\",\"tlm100\":0,\"tlm100_site_id\":\"999555999\",\"lotame\":1,\"lotame_client_id\":\"68800\"},\"instream\":{\"live_content\":0}},\"logging_level\":1,\"publisher_id\":\"68800\",\"custom_skin\":0},\"skipit\":{\"enabled\":1},\"display\":[],\"third_party_tracking\":{\"providers\":{\"moat\":{\"id\":\"moat\",\"parameters\":{\"level1\":\"68800\",\"level2\":\"68801\",\"level3\":\"1\",\"level4\":\"10cc0.a5fa1.e06a\",\"slicer1\":\"parameters.com\",\"partnerCode\":\"spotx9823sdfhj92g2837hd\"}},\"lotame\":{\"id\":\"lotame\",\"type\":\"impression\",\"mime_type\":\"text\\/javascript\",\"unique\":\"No\",\"beacon_url\":\"https:\\/\\/bcp.crwdcntrl.net\\/5\\/c=68800\\/pv=y\\/seg=Publisher-Booyah.tv_Channel-Booyah.tvv_Host-parameters.com\\/ctax=PublisherCampaign^Publisher-Booyah.tv^Channel-Booyah.tvv^Views\\/ref=http:\\/\\/parameters.com\\/pv=y\\/rt=ifr\"},\"lotame_pixel\":{\"id\":\"lotame_pixel\",\"type\":\"click\",\"unique\":\"No\",\"beacon_url\":\"https:\\/\\/bcp.crwdcntrl.net\\/5\\/c=68800\\/ctax=PublisherCampaign^Publisher-Booyah.tv^Channel-Booyah.tvv^Clicks\"},\"lotame_complete_pixel\":{\"id\":\"lotame_complete_pixel\",\"type\":\"complete\",\"unique\":\"No\",\"beacon_url\":\"https:\\/\\/bcp.crwdcntrl.net\\/5\\/c=68800\\/ctax=PublisherCampaign^Publisher-Booyah.tv^Channel-Booyah.tvv^Completes\"},\"double_verify_noscript\":{\"id\":\"double_verify_noscript\",\"type\":\"impression\",\"unique\":\"No\",\"beacon_url\":\"https:\\/\\/sync.doubleverify.com\\/query.gif?ctx=484047&cmp=2228897&dvp_red=$Psearch.spotxchange.com%2Ftrack%2Ftag%2F0.4640%2Fimg\",\"parameters\":{\"DVP_CHANNELID\":\"68801\"}}}},\"channel_id\":\"68801\"}]]></AdParameters></Linear></Creative><Creative sequence=\"1\"><CompanionAds><Companion height=\"250\" width=\"300\" id=\"medium_rectangle\"><IFrameResource><![CDATA[http://deals.lod.search.spotxchange.com/banner?_a=68801&_p=10cc0.a5fa1.e06a&_z=1&_x=eNqtVNtu20YQ5bfwNQa1s3eu0LcYBYJYfogNN0UAYsldSqzFC0Sqsa3q29NZknLUREZfsgLE4XB25syZC08IiaIot03jd5FUjpdALKfWAXihHZUARUG54wRPVGxs1UTtbm2bqjjdIhFwlgrFNWXogima5_5NF4A_Mf5HUmsShPtPEUiRUCYT0CyBaDMMnVksOruztR_8rk-Kto6AFAVJrCgtJJ5I-7Pi3TsE47zdolNrwBwqw5bWCHPoDTNxXrl46QxJCJAfDiUapNSgABQFqQUwmnJGUqaUVIQiUi3wRSx7I03c2ed2P_wKZwir9H72RAjI_7oCRrTmWksqKReEpIIqxlSKXoACgZRJxgljlDCgwZ8wcd_55pckCilmus-3VZH5Jyx9s_bZCHbkAL1zSuLl8Rh4X91__Iic80A1Xtv3fpet94FwzJGaOPQFB6Iv9QUUSgY7gPli1WeN_zqqTAzjE3kq2vax8plra2zCk99Q7T7Zti7pvd0Vm6Tv2mEGG7rm5NfuXeWbwmcTJGJiRI6AVQCM2ay3bW638bIyZKpKVdvwxrhShKNKBQD7Ztg9x5MBpWyWXDDtMfcYsBYzPTu_rtrmpGdThigW1fA8i5RxMVt3bT-E8GMBsTQyneDpAE-buPausufYx1tlu6vtcKZD5uuq9tnw3I1lAjImsvaLvzq_nt1_rdywmaEzQmZfG1-tN8MpNzGqAa03Q73NkMhu62vfnAdDRiqbZ1W9H23lhHJfZztfDMj_1p_In0qTYWMW8XIczAna9wF_VctQ0r-rwgcNmwfXPw2vBjT4CzXOJrvMdt2cb2VgeRxTrFvnX4uJXdL208sRz2m72Ec7N4trQqcsRo4X2EqLabEtsCRDVSwWiySQMLV4BOPGHOWwzD6hhz-mdpsWGpm-fRsPGoxvP_zB-HmSpzsHbHNziIt9P7R15uxgYxMfvmAhvsSm2W-3VyhzlMUxvjqZbWy_QTMcZ15SZkuvcaQgBZmLAsfZWeK1JQovlC1eQdMAtEFmjlcxvRwP_j-eKKnG1SOlLEuqHHOaQymtSKX0pMzJWbwwnSEYuxxMzsF-jqG8UGWaMtxG1AMrhea4QACzzFEu6Rs5kYtx4M0wFvkhpQYLlOdS5RqcTH3pRe5SlbL0chh-mTsQb8ZxUIK2kHtRQpo6gXvP5V7nUOKDC3EpzvGsYU4zg0sj7Ma2webvH4e2i5d5aPrvpv_c3hVPf76_FzcP12T1sKpvXu5fbt_fwOru-uX29w-b1d2Hx88P1y-rh8-__QuVQUfw&resource_type=iframe]]></IFrameResource></Companion><Companion height=\"250\" width=\"300\" id=\"medium_rectangle\"><HTMLResource><![CDATA[<a href=\"http://deals.lod.search.spotxchange.com/click?_a=68801&_p=10cc0.a5fa1.e06a&_z=1&_x=eNqtVVlv20YQ1m8hYL0koHf24pKCUDRwEqBIHBRpmtYIQCy5S2ljXuDhA65-eztLUomTyOhLKImaHc7xzUkeErJarfLS5dcrGRleANGcagNghTJUAuQ55YYTvFb5Xrt61XQ7Xbt8lem6tl0665IVcBaLiCvK0BCLaJbZJw0BfsR0X0mliCc-vF-BFCFlMgTFQljth6FNzs9b3enKDrbrw7ypVkDynIRaFBpCS6T-kfHsGYIxVpdoVCeQPLiEbXQikoc-YUmQORNsTEJCAuS7ixIFUiqIACIKUglgNOaMxCyKZEQoIlUCD2LTJzIJWn3fjMPPMIawCmsXS4SA_NYUMKIUV0pSSbkgJBY0YiyK0QpQIBAzyThhjBIG1NsTSdC3tv4pgUKMkY4ZFjm1d9gA9c6mE9gpB2idUxJsDgef98sPb95gzrlPNaqNPbbHbvQJxxhpEvi-4EDUqb6APJJeDmBRdH1a29uJlQQw_WOe8qa5djY1TYWteLTrq92HZWPC3uou34d92wwLWN81R7t6NM7WuU1nSCQJEDkCjjxgjGZXNpkug41LyFwVV2l_YjyKCEdW5AGM9dDdB7MApWyhjBftMfYAsBZLejq7c0195LM5QiRzN9wvJGVcLNJt0w_e_VRALI2MZ3jKw1NJUFnj9GPsk1bRdJUeHvEw85WrbDrct1OZgEyB7Oz559buFvO3zgz7BTojZLG1t263H46xiYkNKL0fqjLFRLalrWz92BlmxOksddU4ycoZ5Vilnc0HzH9pj8mfS5NiY-bBZhrMGdrXAf_Clr6kNy63nsOWwbV3wxcB6u35GqezXKrbdonXJbA5TCFWjbFfiold0vTz4YDXcbsMPCzdje20K32jnP-CSDqXb_Npqw37blxjVbZknTfObHH2xLpFQgoh1hMH54fHMVs35fScUVARSuMBCI7S-gapta78Pc-3xhZ6LId1227XY1ciL9tKHIf13XZ9v13f4a_D9PncbT3CM_brGX2FX21C0-AU2glXWNsBmXl5fcZeUKYU-pQcaQlKRLFiSO7O2KtvTNze3oY76_LGB4rnUtfG1bsWGwNPuwZiEWKdUa1v9Bm7EHFE5TzSK_CvCXw9CJJp_tT0zrJ-ub_H0vw1j9-84Mn87N_pQoHp9N0NpsczPes84NgnD0E-9kNTpUYPOkiCh0_YmJ-CpB7L8jnSHGlxCJ4fxfa636MYrjdeUKYLqxAkxCAzkeN6M5pYpUmECkWDKijqgdbYKYfnAT3tD_7fnyiowlUspSwKGhlmFIdCahFLaUmRkUf-_LbyzthpZ3Jx9qOPyIqowGbD7UwtsEIojgsVMMoM6YI-ERM56QeedKMxP6RQoIHyTEaZAiNjW1iRmTiKWXzaDT-dOxBP-jFQgNKQWVFAHBuBnWQyqzIo8I8LccrP4VHDHHcILlH_rmhqXAb99dC0wSbzS-Cr6D9Xr3-_f3fx8vbtxYvy8vUHuHz9klxdXLPLj1fl2z_-rK4-_ra_-vyiurr4e_sf4CaY-g%7E%7E\" border=\"0\" target=\"_blank\" title=\"KaiserMP4\"><img style=\"border:0; width:300px; height:250px;\" src=\"http://deals.lod.search.spotxchange.com/banner?_a=68801&_p=10cc0.a5fa1.e06a&_z=1&_x=eNqtVNtu20YQ5bfwNQa1s3dSKPrSPhSIHTSJ2zoIQCy5S2ll3iBS8a369naWpBw3kdGXrABxOJydOXPmwhNCoigqTNu6fSSV5RUQw6mxAE5oSyVAWVJuOcETlVvj26jbb0zry9MtEgFnqVBcU4YumKJF4V51AfgT038ktSZBuP4QgRQJZTIBzRKItuPYZ6tVb_amcaPbD0nZNRGQsiSJEZWBxBFpvle8eYNgrDM1OjUZZE8-Y2uTiexpyFgWF97Ga5uRhAD55lCiQUoNCkBRkFoAoylnJGVKSUUoItUCX8R6yGQW9-ahO4w_whnCqpxbPBEC8r-ugBGtudaSSsoFIamgijGVohegQCBlknHCGCUMaPAnsnjoXftDEoUUMz0UtS9zd4-lbzcun8BOHKB3Tkm8Ph4D71fXb98i5zxQjdcOg9vnm0MgHHOkWRz6ggPR5_oCSiWDHcBy0Q956-4mVRbD9ESeyq679S63XYNNePIbqj0kdWeTwZl9uU2GvhsXsKFrTn7NwXrXli6fIZEsRuQIWAXAmM2m7gpTx2ufkbkqvjHhjXGlCEeVCgAO7bh_iGcDStki2WA6YO4xYC0WevZu47v2pGdzhiiWfnxYRMq4WKz7bhhD-KmAWBqZzvB0gKezuHHWm5fYp1tVt2_M-EKHzDe-cfn40E9lAjIlsnGrXe82i_s7b8ftAp0RsvjaOr_ZjqfcxKQGtN6OTZ0jkX3tGte-DIaMeFPkvjlMtnJGeWjyvStH5L92J_Ln0uTYmGW8ngZzhvZ1wJ_VMpT0iy9d0LBlcN39-GxAg79Q43y2y03fL_n6DNbHKcWms-65mNgl3TC_HPGctktp26T2X9ze-Dp0yspYMwxu5CvQMl0JwugKCM7EighbOEKUU8CqQpiiVNaCJbQAYQ0jya7f_DxPQATTQp3ksOs-INK_5m6c9x2Zv_0zHTSY3r75g-nzLM93nnAKsqe4PAxj1-TWjCbO4qfPWKfPcdYe6voCZY6yOMYXJ7OtGbZohtPOK8pM5TROHKQgC1HitFtDnDZE4YWqwytoGoC2SNzxIqbn48H_xxMV1biZpJRVRZVlVnOopBGplI5UBXkRLwxvCMbOB5NLsO9jKCdUlaYMlxV1WBShOe4XwCwLlCv6Sk7kbBx4NYxBfkilwQDlhVSFBitTVzlR2FSlLD0fhp_nDsSrcSxUoA0UTlSQplbgWsSO0wVU-OBCnItzfNEwp5HCnRJWZ9fibAy3Y9fH6yLMxFfTvy8frx8vH__YXe1u6adfPu3efbxhN7vf7q92v9_dfHx_e0nf1zePm4d3f_7607_LoU8P\" alt=\"KaiserMP4\" /></a>]]></HTMLResource></Companion><Companion height=\"250\" width=\"300\" id=\"medium_rectangle\"><StaticResource creativeType=\"image/jpeg\"><![CDATA[http://deals.lod.search.spotxchange.com/banner?_a=68801&_p=10cc0.a5fa1.e06a&_z=1&_x=eNqtVNtu20YQ5bfwNQa1s3dSKPrSPhSIHTSJ2zoIQCy5S2ll3iBS8a369naWpBw3kdGXrABxOJydOXPmwhNCoigqTNu6fSSV5RUQw6mxAE5oSyVAWVJuOcETlVvj26jbb0zry9MtEgFnqVBcU4YumKJF4V51AfgT038ktSZBuP4QgRQJZTIBzRKItuPYZ6tVb_amcaPbD0nZNRGQsiSJEZWBxBFpvle8eYNgrDM1OjUZZE8-Y2uTiexpyFgWF97Ga5uRhAD55lCiQUoNCkBRkFoAoylnJGVKSUUoItUCX8R6yGQW9-ahO4w_whnCqpxbPBEC8r-ugBGtudaSSsoFIamgijGVohegQCBlknHCGCUMaPAnsnjoXftDEoUUMz0UtS9zd4-lbzcun8BOHKB3Tkm8Ph4D71fXb98i5zxQjdcOg9vnm0MgHHOkWRz6ggPR5_oCSiWDHcBy0Q956-4mVRbD9ESeyq679S63XYNNePIbqj0kdWeTwZl9uU2GvhsXsKFrTn7NwXrXli6fIZEsRuQIWAXAmM2m7gpTx2ufkbkqvjHhjXGlCEeVCgAO7bh_iGcDStki2WA6YO4xYC0WevZu47v2pGdzhiiWfnxYRMq4WKz7bhhD-KmAWBqZzvB0gKezuHHWm5fYp1tVt2_M-EKHzDe-cfn40E9lAjIlsnGrXe82i_s7b8ftAp0RsvjaOr_ZjqfcxKQGtN6OTZ0jkX3tGte-DIaMeFPkvjlMtnJGeWjyvStH5L92J_Ln0uTYmGW8ngZzhvZ1wJ_VMpT0iy9d0LBlcN39-GxAg79Q43y2y03fL_n6DNbHKcWms-65mNgl3TC_HPGctktp26T2X9ze-Dp0yspYMwxu5CvQMl0JwugKCM7EighbOEKUU8CqQpiiVNaCJbQAYQ0jya7f_DxPQATTQp3ksOs-INK_5m6c9x2Zv_0zHTSY3r75g-nzLM93nnAKsqe4PAxj1-TWjCbO4qfPWKfPcdYe6voCZY6yOMYXJ7OtGbZohtPOK8pM5TROHKQgC1HitFtDnDZE4YWqwytoGoC2SNzxIqbn48H_xxMV1biZpJRVRZVlVnOopBGplI5UBXkRLwxvCMbOB5NLsO9jKCdUlaYMlxV1WBShOe4XwCwLlCv6Sk7kbBx4NYxBfkilwQDlhVSFBitTVzlR2FSlLD0fhp_nDsSrcSxUoA0UTlSQplbgWsSO0wVU-OBCnItzfNEwp5HCnRJWZ9fibAy3Y9fH6yLMxFfTvy8frx8vH__YXe1u6adfPu3efbxhN7vf7q92v9_dfHx_e0nf1zePm4d3f_7607_LoU8P]]></StaticResource><CompanionClickThrough><![CDATA[http://deals.lod.search.spotxchange.com/click?_a=68801&_p=10cc0.a5fa1.e06a&_z=1&_x=eNqtVVlv20YQ1m8hYL0koHf24pKCUDRwEqBIHBRpmtYIQCy5S2ljXuDhA65-eztLUomTyOhLKImaHc7xzUkeErJarfLS5dcrGRleANGcagNghTJUAuQ55YYTvFb5Xrt61XQ7Xbt8lem6tl0665IVcBaLiCvK0BCLaJbZJw0BfsR0X0mliCc-vF-BFCFlMgTFQljth6FNzs9b3enKDrbrw7ypVkDynIRaFBpCS6T-kfHsGYIxVpdoVCeQPLiEbXQikoc-YUmQORNsTEJCAuS7ixIFUiqIACIKUglgNOaMxCyKZEQoIlUCD2LTJzIJWn3fjMPPMIawCmsXS4SA_NYUMKIUV0pSSbkgJBY0YiyK0QpQIBAzyThhjBIG1NsTSdC3tv4pgUKMkY4ZFjm1d9gA9c6mE9gpB2idUxJsDgef98sPb95gzrlPNaqNPbbHbvQJxxhpEvi-4EDUqb6APJJeDmBRdH1a29uJlQQw_WOe8qa5djY1TYWteLTrq92HZWPC3uou34d92wwLWN81R7t6NM7WuU1nSCQJEDkCjjxgjGZXNpkug41LyFwVV2l_YjyKCEdW5AGM9dDdB7MApWyhjBftMfYAsBZLejq7c0195LM5QiRzN9wvJGVcLNJt0w_e_VRALI2MZ3jKw1NJUFnj9GPsk1bRdJUeHvEw85WrbDrct1OZgEyB7Oz559buFvO3zgz7BTojZLG1t263H46xiYkNKL0fqjLFRLalrWz92BlmxOksddU4ycoZ5Vilnc0HzH9pj8mfS5NiY-bBZhrMGdrXAf_Clr6kNy63nsOWwbV3wxcB6u35GqezXKrbdonXJbA5TCFWjbFfiold0vTz4YDXcbsMPCzdje20K32jnP-CSDqXb_Npqw37blxjVbZknTfObHH2xLpFQgoh1hMH54fHMVs35fScUVARSuMBCI7S-gapta78Pc-3xhZ6LId1227XY1ciL9tKHIf13XZ9v13f4a_D9PncbT3CM_brGX2FX21C0-AU2glXWNsBmXl5fcZeUKYU-pQcaQlKRLFiSO7O2KtvTNze3oY76_LGB4rnUtfG1bsWGwNPuwZiEWKdUa1v9Bm7EHFE5TzSK_CvCXw9CJJp_tT0zrJ-ub_H0vw1j9-84Mn87N_pQoHp9N0NpsczPes84NgnD0E-9kNTpUYPOkiCh0_YmJ-CpB7L8jnSHGlxCJ4fxfa636MYrjdeUKYLqxAkxCAzkeN6M5pYpUmECkWDKijqgdbYKYfnAT3tD_7fnyiowlUspSwKGhlmFIdCahFLaUmRkUf-_LbyzthpZ3Jx9qOPyIqowGbD7UwtsEIojgsVMMoM6YI-ERM56QeedKMxP6RQoIHyTEaZAiNjW1iRmTiKWXzaDT-dOxBP-jFQgNKQWVFAHBuBnWQyqzIo8I8LccrP4VHDHHcILlH_rmhqXAb99dC0wSbzS-Cr6D9Xr3-_f3fx8vbtxYvy8vUHuHz9klxdXLPLj1fl2z_-rK4-_ra_-vyiurr4e_sf4CaY-g%7E%7E]]></CompanionClickThrough><AltText>KaiserMP4</AltText><TrackingEvents><Tracking event=\"creativeView\"><![CDATA[http://t4.liverail.com/?metric=companion&pos=0&coid=5005&pid=6555&oid=57214993&olid=50321870&cid=10670&vid=&amid=&cc=default&pp=&url=&cb=6842&x=&y=&xy=]]></Tracking></TrackingEvents></Companion></CompanionAds></Creative></Creatives><Extensions><Extension type=\"LR-Pricing\"><Price model=\"CPM\" currency=\"USD\" source=\"spotxchange\"><![CDATA[10]]></Price></Extension><Extension type=\"SpotX-Count\"><total_available><![CDATA[1]]></total_available></Extension></Extensions></InLine></Ad></VAST>\n";

        ByteArrayInputStream stream = new ByteArrayInputStream(xml.getBytes());
        InputSource source = new InputSource(stream);

        VPAIDResponse vpaid = VASTParser.read(source);
        assertNotNull(vpaid);
        assertFalse(vpaid.mediaUrl.isEmpty());
        assertTrue(vpaid.mediaUrl.contains(".js"));

        try {
            assertFalse(vpaid.adParameters.isEmpty());
            new JSONObject(vpaid.adParameters);
        }
        catch(JSONException e) {
            fail("Invalid JSON object:" + vpaid.adParameters);
        }
    }
}